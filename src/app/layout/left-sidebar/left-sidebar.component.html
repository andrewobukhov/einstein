<div class="sidebar-left-container" [ngClass]="{closed: isClosed}">
  <div class="sidebar-left container-fluid" #sidebar
       [style.height]="'calc(100vh - ' +  (sidebar.getBoundingClientRect().y || 0) + 'px)'">
    <div class="row filters">
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#search" aria-controls="search" role="tab" data-toggle="tab">search</a>
        </li>
        <li role="presentation"><a href="#filters" aria-controls="filters" role="tab" data-toggle="tab">filters</a>
        </li>
        <li role="presentation"><a href="#query" aria-controls="query" role="tab" data-toggle="tab">query</a></li>
      </ul>
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="search">
          <div class="input-group">
            <input type="text" class="form-control" id="serachline" placeholder="Case">
            <span class="ring-icon icon-ico-searchreset"></span>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="filters">
          <input type="text" class="form-control" id="filtersline" placeholder="">
        </div>
        <div role="tabpanel" class="tab-pane" id="query">
          <input type="text" class="form-control" id="queryline" placeholder="">
        </div>
      </div>
    </div>
    <div class="row tree-controls">
      <div class="col-12 controls">
        <div class="btn-group actions">
          <button type="button" class="btn btn-light btn-sm" [hidden]="!treeViewMode">Expand all</button>
          <button type="button" class="btn btn-light btn-sm" [hidden]="!treeViewMode">Collapse all</button>
          <button type="button" class="btn btn-light btn-sm" [hidden]="treeViewMode">Hide Suits</button>
        </div>
        <div class="btn-group" role="group" aria-label="...">
          <button type="button" class="btn btn-light btn-sm" [ngClass]="{'active': treeViewMode}" (click)="treeViewMode=true">Tree</button>
          <button type="button" class="btn btn-light btn-sm" [ngClass]="{'active': !treeViewMode}" (click)="treeViewMode=false">Table</button>
        </div>
      </div>
    </div>
    <div [hidden]="!treeViewMode" class="row tree" #treeContainer (scroll)="onScroll()">
      <div class="col-12 easy-tree" >
        <tree-root [nodes]="nodes" [options]="{scrollContainer: treeContainer}">
          <ng-template #treeNodeTemplate let-node let-index="index">
            <app-tree-context [nodeData]="node.data"
                              [parentWidth]="(treeContainer.clientWidth || 395) - 55">

            </app-tree-context>
          </ng-template>
        </tree-root>
      </div>
<!--      <div class="fading" [style.left.px]="treeContainer.offsetWidth - 66 + treeContainer.scrollLeft"></div>-->
    </div>
    <div *ngIf="!treeViewMode" class="row tree-table">
        <app-tree-table-view [model]="nodes"></app-tree-table-view>
    </div>
    <div class="row bottom-controls">
      <span class="pull-right">
        <input class="btn btn-default btn-action" type="button" value="Bulk Update">
      </span>
    </div>
  </div>
</div>
